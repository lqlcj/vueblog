<template>
  <div class="about-page">
    <div class="bg-gradient"></div>

    <div class="container">
      <div class="glass-card fade-in">

        <header class="about-header">
          <h1 class="handwritten">About This Garden</h1>
          <span class="update-badge">Last Updated: 2023.11</span>
        </header>

        <div class="divider"></div>

        <article class="content-body">

          <section>
            <h3>ğŸ‘‹ Hello, Traveler.</h3>
            <p>
              æ¬¢è¿æ¥åˆ°æˆ‘çš„åèŠ±å›­ã€‚è¿™æ˜¯ä¸€ä¸ªæ€ç»´ç¢ç‰‡çš„æš‚å­˜åŒºã€‚è¿™é‡Œçš„æ¯ä¸€è¡Œä»£ç éƒ½ç”± <strong>Vue 3 + Vite</strong> é©±åŠ¨ï¼Œæ¯ä¸€ç¯‡æ–‡ç« éƒ½ç”± <strong>Obsidian</strong> æ’°å†™ã€‚
            </p>
          </section>

          <section>
            <h3>âš¡ Powered By</h3>
            <p>è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue 3 æ„å»ºçš„çº¯é™æ€ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œé‡‡ç”¨ Composition APIã€Pinia çŠ¶æ€ç®¡ç†å’Œ Vite æ„å»ºå·¥å…·ï¼Œæ”¯æŒ Markdown æ–‡ç« ã€å‹é“¾ç®¡ç†å’Œ Giscus ç•™è¨€ç³»ç»Ÿã€‚</p>
            <p>ç°å·²åœ¨githubå¼€æºã€‚</p>

            <h4 style="margin-top: 30px; margin-bottom: 15px; font-size: 1.2rem; color: #2c3e50;">âœ¨ ç‰¹æ€§</h4>
            <ul class="feature-list">
              <li><strong>ğŸ“ Markdown æ”¯æŒ</strong>ï¼šæ”¯æŒ Markdown æ ¼å¼æ–‡ç« ï¼Œè‡ªåŠ¨è§£æ front-matter</li>
              <li><strong>ğŸ¯ å“åº”å¼å¸ƒå±€</strong>ï¼šå®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯</li>
              <li><strong>ğŸš€ æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€å¼‚æ­¥ç»„ä»¶åŠ è½½</li>
              <li><strong>ğŸ’¬ ç•™è¨€ç³»ç»Ÿ</strong>ï¼šé›†æˆ Giscus è¯„è®ºç³»ç»Ÿ</li>
              <li><strong>ğŸ”— å‹é“¾ç®¡ç†</strong>ï¼šæ”¯æŒå‹é“¾ç”³è¯·å’Œç®¡ç†</li>
              <li><strong>ğŸ­ åŠ¨ç”»æ•ˆæœ</strong>ï¼šä½¿ç”¨ GSAP å’Œ CSS åŠ¨ç”»ï¼Œæµç•…çš„äº¤äº’ä½“éªŒ</li>
              <li><strong>âš¡ å¿«é€Ÿæ„å»º</strong>ï¼šåŸºäº Vite çš„å¿«é€Ÿå¼€å‘ä½“éªŒ</li>
            </ul>

            <h4 style="margin-top: 30px; margin-bottom: 15px; font-size: 1.2rem; color: #2c3e50;">æ ¸å¿ƒæ¡†æ¶</h4>
            <ul class="feature-list">
              <li><strong>Vue 3.4+</strong> - æ¸è¿›å¼ JavaScript æ¡†æ¶</li>
              <li><strong>Vue Router 4</strong> - å®˜æ–¹è·¯ç”±ç®¡ç†å™¨</li>
              <li><strong>Pinia</strong> - Vue å®˜æ–¹çŠ¶æ€ç®¡ç†åº“</li>
            </ul>

            <h4 style="margin-top: 30px; margin-bottom: 15px; font-size: 1.2rem; color: #2c3e50;">æ„å»ºå·¥å…·</h4>
            <ul class="feature-list">
              <li><strong>Vite 7.2+</strong> - å‰ç«¯æ„å»ºå·¥å…·</li>
              <li><strong>@vitejs/plugin-vue</strong> - Vue å•æ–‡ä»¶ç»„ä»¶æ”¯æŒ</li>
            </ul>

            <h4 style="margin-top: 30px; margin-bottom: 15px; font-size: 1.2rem; color: #2c3e50;">åŠŸèƒ½åº“</h4>
            <ul class="feature-list">
              <li><strong>markdown-it</strong> - Markdown è§£æå™¨</li>
              <li><strong>front-matter</strong> - Front matter è§£æ</li>
              <li><strong>github-markdown-css</strong> - GitHub é£æ ¼ Markdown æ ·å¼</li>
              <li><strong>gsap</strong> - åŠ¨ç”»åº“</li>
              <li><strong>canvas-confetti</strong> - å½©å¸¦åŠ¨ç”»æ•ˆæœ</li>
            </ul>

            <h4 style="margin-top: 30px; margin-bottom: 15px; font-size: 1.2rem; color: #2c3e50;">å¼€å‘å·¥å…·</h4>
            <ul class="feature-list">
              <li><strong>unplugin-auto-import</strong> - è‡ªåŠ¨å¯¼å…¥ API</li>
              <li><strong>unplugin-vue-components</strong> - è‡ªåŠ¨å¯¼å…¥ç»„ä»¶</li>
              <li><strong>rollup-plugin-visualizer</strong> - æ‰“åŒ…åˆ†æå·¥å…·</li>
            </ul>
          </section>

          <section>
            <h3>ğŸ‘¤ ä½œè€…</h3>
            <p>&nbsp;&nbsp;å…ƒå®µ (LCJ)</p>
          </section>

          <section>
            <h3>ğŸ™ è‡´è°¢</h3>
            <ul class="feature-list">
              <li>Vue.js å›¢é˜Ÿ</li>
              <li>Vite å›¢é˜Ÿ</li>
              <li>æ‰€æœ‰å¼€æºè´¡çŒ®è€…</li>
            </ul>
          </section>

          <section>
            <h3>ğŸ“® Contact</h3>
            <p>å¦‚æœä½ å‘ç°äº† Bugï¼Œæˆ–è€…åªæ˜¯æƒ³èŠèŠæŠ€æœ¯ä¸è®¾è®¡ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰¾åˆ°æˆ‘ã€‚</p>

            <div class="contact-box">

              <div class="interaction-wrapper">
                <transition name="smooth-switch" mode="out-in">

                  <button v-if="!emailState.revealed" class="btn-pill outline pointer"
                    @click="emailState.revealed = true" key="email-btn" aria-label="æ˜¾ç¤ºé‚®ç®±åœ°å€">
                    Email Me â
                  </button>

                  <div v-else class="email-display-box" key="email-show">
                    <span class="email-text" aria-label="é‚®ç®±åœ°å€">{{ emailAddress }}</span>
                    <button class="icon-btn" @click="copyEmail" :title="emailState.copied ? 'å·²å¤åˆ¶' : 'ç‚¹å‡»å¤åˆ¶'"
                      :aria-label="emailState.copied ? 'å·²å¤åˆ¶åˆ°å‰ªè´´æ¿' : 'å¤åˆ¶é‚®ç®±åœ°å€'">
                      <transition name="icon-pop" mode="out-in">
                        <span v-if="emailState.copied" key="check" aria-hidden="true">âœ…</span>
                        <span v-else key="copy" aria-hidden="true">ğŸ“‹</span>
                      </transition>
                    </button>
                  </div>

                </transition>
              </div>

              <div class="interaction-wrapper">
                <transition name="smooth-switch" mode="out-in">

                  <button v-if="!githubState.confirming" class="btn-pill outline pointer"
                    @click="githubState.confirming = true" key="github-btn" aria-label="æ‰“å¼€ Github">
                    Github â
                  </button>

                  <div v-else class="confirm-box" key="github-confirm" role="dialog" aria-label="ç¡®è®¤è·³è½¬">
                    <span class="confirm-text">Go to Github?</span>
                    <button class="btn-mini go" @click="goToGithub" aria-label="ç¡®è®¤è·³è½¬åˆ° Github">
                      Yes ğŸš€
                    </button>
                    <button class="btn-mini cancel" @click="githubState.confirming = false" aria-label="å–æ¶ˆè·³è½¬">
                      Wait âœ‹
                    </button>
                  </div>

                </transition>
              </div>

            </div>
          </section>

        </article>

        <footer class="about-footer">
          <p class="handwritten sign">Made with â¤ï¸ by Creator.</p>
        </footer>

      </div>
    </div>
  </div>
</template>

<script setup>
  import { reactive, onBeforeUnmount } from 'vue'

  const emailAddress = "cli20220909@gmail.com"

  // ğŸš€ ä¼˜åŒ–ï¼šé‚®ç®±çŠ¶æ€ç®¡ç†
  const emailState = reactive({
    revealed: false,
    copied: false
  })

  // ğŸš€ ä¼˜åŒ–ï¼šGithub çŠ¶æ€ç®¡ç†
  const githubState = reactive({
    confirming: false
  })

  // ğŸš€ ä¼˜åŒ–ï¼šå®šæ—¶å™¨ç®¡ç†ï¼Œé¿å…å†…å­˜æ³„æ¼
  let copyTimer = null

  // ğŸš€ ä¼˜åŒ–ï¼šå¤åˆ¶é‚®ç®±é€»è¾‘ï¼Œæ”¹è¿›é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
  const copyEmail = async () => {
    try {
      // æ£€æŸ¥ Clipboard API æ˜¯å¦å¯ç”¨
      if (!navigator.clipboard) {
        // é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•
        const textArea = document.createElement('textarea')
        textArea.value = emailAddress
        textArea.style.position = 'fixed'
        textArea.style.opacity = '0'
        document.body.appendChild(textArea)
        textArea.select()
        document.execCommand('copy')
        document.body.removeChild(textArea)
        emailState.copied = true
      } else {
        await navigator.clipboard.writeText(emailAddress)
        emailState.copied = true
      }

      // ğŸš€ ä¼˜åŒ–ï¼šæ¸…ç†ä¹‹å‰çš„å®šæ—¶å™¨
      if (copyTimer) {
        clearTimeout(copyTimer)
      }

      // 2ç§’åæ¢å¤å›¾æ ‡
      copyTimer = setTimeout(() => {
        emailState.copied = false
        copyTimer = null
      }, 2000)
    } catch (err) {
      console.error('Failed to copy', err)
      // ğŸš€ ä¼˜åŒ–ï¼šå¯ä»¥æ·»åŠ ç”¨æˆ·æç¤º
    }
  }

  // ğŸš€ ä¼˜åŒ–ï¼šè·³è½¬ Githubï¼Œæ·»åŠ å®‰å…¨æ£€æŸ¥
  const goToGithub = () => {
    try {
      window.open('https://github.com/lqlcj/vueblog', '_blank', 'noopener,noreferrer')
      githubState.confirming = false
    } catch (err) {
      console.error('Failed to open Github', err)
    }
  }

  // ğŸš€ ä¼˜åŒ–ï¼šæ¸…ç†å®šæ—¶å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼
  onBeforeUnmount(() => {
    if (copyTimer) {
      clearTimeout(copyTimer)
      copyTimer = null
    }
  })
</script>

<style scoped>
  /* @import url('https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap'); */

  /* --- åŸºç¡€å¸ƒå±€ --- */
  .about-page {
    min-height: 100vh;
    position: relative;
    display: flex;
    justify-content: center;
    padding: 50px 5px;
    color: #333;
  }

  .bg-gradient {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: linear-gradient(135deg, #FFDDE1 0%, #E0C3FC 100%);
  }

  .container {
    width: 100%;
    max-width: 800px;
    z-index: 1;
  }

  .glass-card {
    background: rgba(255, 255, 255, 0.65);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.8);
    border-radius: 24px;
    padding: 60px;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.05);
  }

  .fade-in {
    animation: fadeInUp 0.8s ease-out;
    will-change: transform, opacity;
    /* ğŸš€ æ€§èƒ½ä¼˜åŒ– */
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translate3d(0, 30px, 0);
      /* ğŸš€ ä½¿ç”¨ translate3d å¯ç”¨ GPU åŠ é€Ÿ */
    }

    to {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }
  }

  /* --- æ’ç‰ˆ --- */
  .about-header {
    text-align: center;
    margin-bottom: 40px;
  }

  .handwritten {
    font-family: 'Caveat', cursive;
    font-size: 3.5rem;
    margin: 0 0 10px 0;
    color: #5d4037;
  }

  .subtitle {
    font-size: 1.1rem;
    color: #666;
    margin-bottom: 15px;
  }

  .update-badge {
    font-size: 0.8rem;
    background: rgba(0, 0, 0, 0.05);
    padding: 4px 10px;
    border-radius: 20px;
    color: #888;
  }

  .divider {
    height: 1px;
    background: rgba(0, 0, 0, 0.05);
    margin-bottom: 40px;
  }

  .content-body h3 {
    font-size: 1.5rem;
    margin-bottom: 20px;
    color: #2c3e50;
    border-left: 4px solid #ff9a9e;
    padding-left: 15px;
  }

  .content-body section {
    margin-bottom: 50px;
  }

  .content-body p {
    font-size: 1.05rem;
    line-height: 1.8;
    color: #555;
    margin-bottom: 15px;
    text-align: justify;
  }

  .policy-list li,
  .feature-list li {
    background: rgba(255, 255, 255, 0.5);
    padding: 8px 15px;
    margin-bottom: 5px;
    border-radius: 8px;
    font-size: 1rem;
    line-height: 1.6;
    color: #666;
    list-style: none;
  }

  .policy-list strong,
  .feature-list strong {
    color: #d84315;
  }

  .feature-list {
    padding-left: 0;
  }

  .tech-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }

  .tag {
    background: #fff;
    padding: 6px 14px;
    border-radius: 6px;
    font-size: 0.9rem;
    color: #555;
    border: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
    transition: transform 0.2s ease;
    will-change: transform;
    /* ğŸš€ æ€§èƒ½ä¼˜åŒ– */
  }

  .tag:hover {
    transform: translate3d(0, -2px, 0);
    /* ğŸš€ ä½¿ç”¨ translate3d */
    color: #ff9a9e;
  }

  /* =========================================
   äº¤äº’æ ¸å¿ƒæ ·å¼
========================================= */
  .contact-box {
    margin-top: 25px;
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
  }

  .interaction-wrapper {
    min-width: 140px;
    /* å ä½ï¼Œé˜²æ­¢åˆ‡æ¢æ—¶æŠ–åŠ¨å¤ªå‰å®³ */
  }

  /* é€šç”¨èƒ¶å›ŠæŒ‰é’®æ ·å¼ */
  .btn-pill {
    padding: 8px 20px;
    border-radius: 50px;
    font-weight: bold;
    font-size: 1rem;
    transition: all 0.3s;
    display: inline-block;
  }

  .pointer {
    cursor: pointer;
  }

  .outline {
    border: 2px solid #6c5ce7;
    color: #6c5ce7;
    background: transparent;
  }

  .outline:hover {
    background: #6c5ce7;
    color: white;
    transform: translate3d(0, -2px, 0);
    /* ğŸš€ ä½¿ç”¨ translate3d */
    box-shadow: 0 5px 15px rgba(108, 92, 231, 0.2);
  }

  /* ğŸš€ å¯è®¿é—®æ€§ä¼˜åŒ–ï¼šæŒ‰é’®ç„¦ç‚¹æ ·å¼ */
  .btn-pill:focus-visible,
  .icon-btn:focus-visible,
  .btn-mini:focus-visible {
    outline: 2px solid #6c5ce7;
    outline-offset: 2px;
  }

  /* Email æ˜¾ç¤ºæ¡† */
  .email-display-box {
    display: flex;
    align-items: center;
    background: #fff;
    padding: 5px 10px 5px 20px;
    border-radius: 50px;
    border: 1px solid #ddd;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  }

  .email-text {
    font-family: monospace;
    color: #d84315;
    margin-right: 10px;
    font-size: 0.95rem;
  }

  .icon-btn {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1.2rem;
    padding: 5px;
    border-radius: 50%;
    transition: background 0.2s;
  }

  .icon-btn:hover {
    background: #f0f0f0;
  }

  /* Github ç¡®è®¤æ¡† */
  .confirm-box {
    display: flex;
    align-items: center;
    gap: 10px;
    background: #fff;
    padding: 5px 10px 5px 20px;
    border-radius: 50px;
    border: 1px solid #ddd;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  }

  .confirm-text {
    font-size: 0.9rem;
    color: #555;
    font-weight: bold;
  }

  .btn-mini {
    border: none;
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    cursor: pointer;
    font-weight: bold;
    transition: opacity 0.2s;
  }

  .btn-mini:hover {
    opacity: 0.8;
  }

  .go {
    background: #6c5ce7;
    color: white;
  }

  .cancel {
    background: #e0e0e0;
    color: #666;
  }

  /* --- ä¸æ»‘åˆ‡æ¢åŠ¨ç”» (æ ¸å¿ƒ) --- */
  .smooth-switch-enter-active,
  .smooth-switch-leave-active {
    transition: all 0.3s ease;
    will-change: transform, opacity;
    /* ğŸš€ æ€§èƒ½ä¼˜åŒ– */
  }

  .smooth-switch-enter-from,
  .smooth-switch-leave-to {
    opacity: 0;
    transform: translate3d(0, 10px, 0);
    /* ğŸš€ ä½¿ç”¨ translate3d */
  }

  /* å›¾æ ‡å¼¹è·³åŠ¨ç”» */
  .icon-pop-enter-active {
    animation: popIn 0.3s;
  }

  @keyframes popIn {
    0% {
      transform: scale3d(0, 0, 1);
      /* ğŸš€ ä½¿ç”¨ scale3d */
    }

    50% {
      transform: scale3d(1.4, 1.4, 1);
    }

    100% {
      transform: scale3d(1, 1, 1);
    }
  }

  .about-footer {
    text-align: center;
    margin-top: 60px;
    opacity: 0.6;
  }

  .sign {
    font-size: 1.5rem;
    color: #888;
  }

  @media (max-width: 768px) {
    .about-page {
      padding: 30px 5px;
    }

    .glass-card {
      padding: 30px 20px;
    }

    .handwritten {
      font-size: 2.5rem;
    }

    .content-body h3 {
      font-size: 1.3rem;
    }

    .content-body p {
      font-size: 1rem;
    }

    .contact-box {
      flex-direction: column;
      gap: 20px;
      align-items: flex-start;
    }

    .interaction-wrapper {
      width: 100%;
    }
  }

  /* ğŸš€ å¯è®¿é—®æ€§ä¼˜åŒ–ï¼šæ”¯æŒå‡å°‘åŠ¨ç”»åå¥½ */
  @media (prefers-reduced-motion: reduce) {
    .fade-in {
      animation: none;
      opacity: 1;
      transform: none;
    }

    .smooth-switch-enter-active,
    .smooth-switch-leave-active {
      transition: none;
    }

    .smooth-switch-enter-from,
    .smooth-switch-leave-to {
      opacity: 1;
      transform: none;
    }

    .icon-pop-enter-active {
      animation: none;
    }

    .tag:hover {
      transform: none;
    }

    .outline:hover {
      transform: none;
    }
  }
</style>