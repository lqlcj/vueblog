<template>
  <header class="header">
    <div class="logo">
      <router-link to="/Home">
        <img alt="logo" src="../assets/images/logo.webp" />
      </router-link>
    </div>

    <nav class="menu">
      <router-link to="/Home" class="nav-link" active-class="select">
        Home
      </router-link>
      <router-link to="/notes" class="nav-link" active-class="select">
        Notes
      </router-link>

      <router-link to="/friends" class="nav-link" :class="{ select: isFriendsGroupActive }">
        Friends
      </router-link>

      <router-link to="/about" class="nav-link" active-class="select">
        About
      </router-link>
    </nav>

  </header>
</template>

<script setup>
  import { computed } from 'vue'
  import { useRoute } from 'vue-router'

  const route = useRoute()

  const isFriendsGroupActive = computed(() => route.path.startsWith('/friends'))
</script>

<style scoped>
  .nav-link {
    /* override default link underline */
    text-decoration: none;
  }

  .header {
    margin: 25px auto;
    /* PCç«¯ä¿æŒåŸæ · */
    min-width: 975px;
    max-width: 55%;
    height: 100px;
    /* ä½¿ç”¨ flex å¸ƒå±€æ¥å¯¹é½ */
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .header .logo {
    display: flex;
    align-items: center;
    margin-left: 47px;
    margin-top: 0;
  }

  .header .logo span {
    padding-left: 5px;
    font-size: 22pt;
    font-family: 'Conv_FuturaStd-Heavy', Arial;
    color: #68525B;
  }

  .header .logo img {
    vertical-align: text-bottom;
    /* å»ºè®®åŠ ä¸ªé«˜åº¦é™åˆ¶ï¼Œé˜²æ­¢å›¾ç‰‡è¿‡å¤§æ’‘ç ´å¸ƒå±€ï¼ŒPCç«¯ä¸å½±å“ */
    height: auto;
    max-height: 60px;
  }

  .header .menu {
    display: flex;
    align-items: center;
    padding-right: 37px;
    position: relative;
    padding-top: 0;
    gap: 35px;
    /* ä½¿ç”¨ gap æ§åˆ¶é—´è·ï¼Œé¿å… margin åœ¨ç»“æ„å˜åŒ–æ—¶å½±å“å¸ƒå±€ */
  }

  .header .menu a,
  .header .menu .nav-link {
    font-size: 14pt;
    font-family: 'Conv_FuturaStd-Medium', Arial;
    color: #68525B;
    /* å¢åŠ ä¸€ç‚¹è¿‡æ¸¡æ•ˆæœï¼Œä½“éªŒæ›´å¥½ */
    transition: color 0.3s;
    cursor: pointer;
    /* é˜²æ­¢æ–‡æœ¬å˜åŒ–å¯¼è‡´å¸ƒå±€æŠ–åŠ¨ */
    white-space: nowrap;
  }

  /* èœå•é«˜äº® */
  .menu a.select,
  .menu .nav-link.select {
    color: #E45462;
    text-decoration: none;
  }

  /* --- ğŸ“± æ ¸å¿ƒä¿®æ”¹ï¼šæ‰‹æœºç«¯é€‚é… --- */
  /* å½“å±å¹•å®½åº¦å°äº 768px (æ‰‹æœº/å¹³æ¿ç«–å±) æ—¶ï¼Œè¦†ç›–ä¸Šé¢çš„æ ·å¼ */
  @media (max-width: 768px) {
    .header {
      /* 1. å›ºå®šåœ¨åº•éƒ¨ */
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      /* 2. å®½åº¦é‡ç½®ï¼šæ‰‹æœºä¸Šå¿…é¡»å æ»¡ */
      min-width: 100%;
      max-width: 100%;
      /* 3. é«˜åº¦è‡ªé€‚åº” */
      height: auto;
      min-height: 60px;
      /* 4. ä¿æŒæ¨ªå‘å¸ƒå±€ï¼šLogoåœ¨å·¦ï¼Œèœå•åœ¨å³ */
      flex-direction: row;
      margin: 0;
      padding: 15px 15px;
      /* 5. æ·»åŠ èƒŒæ™¯å’Œé˜´å½±ï¼Œè®©åº•éƒ¨å¯¼èˆªæ›´æ˜æ˜¾ */
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
      /* ç¡®ä¿å†…å®¹å‚ç›´å±…ä¸­ */
      align-items: center;
    }

    .header .logo {
      /* ç§»åŠ¨ç«¯éšè—LOGO */
      display: none;
    }

    .header .menu {
      /* æ¸…é™¤ PC ç«¯çš„å³å†…è¾¹è· */
      padding-right: 0;
      /* èœå•å±…ä¸­å‡åŒ€åˆ†å¸ƒ */
      justify-content: space-around;
      width: 100%;
      flex: 1;
      /* æ¢å¤ gap æ§åˆ¶é—´è· */
      gap: 0;
      /* ç¡®ä¿èœå•é¡¹å‚ç›´å±…ä¸­ */
      align-items: center;
      height: 100%;
    }

    .header .menu a {
      /* æ‰‹æœºä¸Šå­—å·ç¨å¾®æ”¹å°ä¸€ç‚¹ */
      font-size: 0.9rem;
      margin: 0;
      /* ç¡®ä¿æ–‡å­—å‚ç›´å±…ä¸­ */
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
    }

  }

</style>