<!--
  å‹é“¾äº¤æ¢ç»„ä»¶
  
  åŠŸèƒ½è¯´æ˜ï¼š
  1. å±•ç¤ºå·²å®¡æ ¸é€šè¿‡çš„å‹é“¾åˆ—è¡¨
  2. æä¾›å‹é“¾ç”³è¯·è¡¨å•
  
  ä½¿ç”¨è¯´æ˜ï¼š
  ==========
  
  1. å‹é“¾æ•°æ®ç®¡ç†ï¼š
     - å‹é“¾æ•°æ®å­˜å‚¨åœ¨ï¼šsrc/data/friends.json
     - æ ¼å¼ï¼š
       [
         {
           "name": "ç½‘ç«™åç§°",
           "url": "https://example.com",
           "description": "ç½‘ç«™æè¿°",
           "avatar": "å¤´åƒURLï¼ˆå¯é€‰ï¼‰",
           "date": "2025-01-01"
         }
       ]
  
  2. å®¡æ ¸å‹é“¾ç”³è¯·ï¼š
     - è®¿å®¢æäº¤ç”³è¯·åï¼Œä¼šåœ¨ GitHub Issues ä¸­åˆ›å»ºä¸€æ¡è®°å½•
     - è®¿é—®ä½ çš„ GitHub ä»“åº“ï¼šhttps://github.com/lqlcj/vueblog/issues
     - æ‰¾åˆ°å‹é“¾ç”³è¯· Issueï¼Œå®¡æ ¸é€šè¿‡åï¼š
       a. å°†å‹é“¾ä¿¡æ¯æ·»åŠ åˆ° src/data/friends.json
       b. å…³é—­å¯¹åº”çš„ Issue
  
  3. GitHub Issues é…ç½®ï¼ˆå¯é€‰ï¼‰ï¼š
     - å¦‚æœä½¿ç”¨ API æ–¹å¼ï¼ˆéœ€è¦ Tokenï¼‰ï¼š
       a. è®¿é—® https://github.com/settings/tokens
       b. åˆ›å»º Personal Access Tokenï¼ˆéœ€è¦ public_repo æƒé™ï¼‰
       c. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .env æ–‡ä»¶ï¼š
          VITE_GITHUB_TOKEN=your_token_here
       d. æ³¨æ„ï¼š.env æ–‡ä»¶ä¸è¦æäº¤åˆ° Gitï¼
     - å¦‚æœä½¿ç”¨è·³è½¬é“¾æ¥æ–¹å¼ï¼ˆæ¨èï¼Œæ— éœ€é…ç½®ï¼‰ï¼š
       - ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€ä»»ä½•é…ç½®
  
  4. è‡ªå®šä¹‰é…ç½®ï¼š
     - ä¿®æ”¹ä»“åº“åï¼šåœ¨ src/utils/githubApi.js ä¸­ä¿®æ”¹ repo å‚æ•°
     - é»˜è®¤å€¼ï¼š'lqlcj/vueblog'
-->

<template>
  <div class="friends-section">
    <!-- æ ‡é¢˜ -->
    <div class="section-header">
      <h2 class="section-title">ğŸ¤ Friends & Partners</h2>
      <p class="section-subtitle">A curated collection of inspiring creators we support.</p>

      <!-- ç”³è¯·å‹é“¾æŒ‰é’® -->
      <OutlineButton @click="toggleForm" icon="+">
        ç”³è¯·å‹é“¾
      </OutlineButton>
    </div>

    <!-- å‹é“¾åˆ—è¡¨ -->
    <FriendsList />

    <!-- ç”³è¯·è¡¨å• -->
    <FriendRequestForm :is-expanded="isFormExpanded" @close="toggleForm" />
  </div>
</template>

<script setup>
  import { ref } from 'vue'
  import FriendsList from './FriendsList.vue'
  import FriendRequestForm from './FriendRequestForm.vue'
  import OutlineButton from '@/components/Common/OutlineButton.vue'

  const isFormExpanded = ref(false)

  const toggleForm = () => {
    isFormExpanded.value = !isFormExpanded.value
  }
</script>

<style scoped>
  .friends-section {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  .section-header {
    text-align: center;
  }

  .section-title {
    font-family: 'Caveat', cursive;
    font-size: 1.8rem;
    color: #2c3e50;
    margin: 0 0 4px 0;
    font-weight: 400;
  }

  .section-subtitle {
    font-size: 0.85rem;
    color: #666;
    margin: 0 0 16px 0;
  }

  /* å“åº”å¼è®¾è®¡ */
  @media (max-width: 768px) {
    .friends-section {
      gap: 20px;
    }

    .section-title {
      font-size: 1.5rem;
    }

    .section-subtitle {
      font-size: 0.8rem;
    }
  }
</style>
